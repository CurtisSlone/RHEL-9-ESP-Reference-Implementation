# /etc/ssh/sshd_config
# SSH daemon configuration file

Port 22
AddressFamily any
ListenAddress 0.0.0.0
ListenAddress ::

# Authentication
PermitRootLogin no
PasswordAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys
PermitEmptyPasswords no
ChallengeResponseAuthentication no
UsePAM yes

# Security settings
Protocol 2
MaxAuthTries 3
LoginGraceTime 60
MaxStartups 10:30:60
MaxSessions 10

# Encryption
Ciphers aes128-ctr,aes192-ctr,aes256-ctr
MACs hmac-sha2-256,hmac-sha2-512
KexAlgorithms curve25519-sha256,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521

# Logging
SyslogFacility AUTH
LogLevel INFO

# X11 and forwarding
X11Forwarding no
AllowTcpForwarding yes
GatewayPorts no
PermitTunnel no

# Client connection settings
ClientAliveInterval 300
ClientAliveCountMax 2
TCPKeepAlive yes

# Banner and messages
Banner /etc/ssh/banner.txt
PrintMotd yes
PrintLastLog yes

# Subsystem
Subsystem sftp /usr/lib/openssh/sftp-server